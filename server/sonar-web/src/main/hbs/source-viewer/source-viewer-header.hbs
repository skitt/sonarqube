<div class="source-viewer-header-bar">
  <div class="source-viewer-header-component">
    {{#unless removed}}
      {{#if projectName}}
        <div class="source-viewer-header-component-project">
          {{qualifierIcon 'TRK'}}
          <a class="link-action" href="{{dashboardUrl project}}">{{projectName}}</a>
          {{#if subProjectName}}
            / <a class="link-action" href="{{dashboardUrl subProject}}">{{subProjectName}}</a>
          {{/if}}
        </div>
      {{/if}}

      <div class="source-viewer-header-component-name">
        {{qualifierIcon q}} {{default path longName}}

        {{#if canMarkAsFavourite}}
          <a class="js-favorite source-viewer-header-favorite"
             title="{{#if fav}}{{t 'click_to_remove_from_favorites'}}{{else}}{{t 'click_to_add_to_favorites'}}{{/if}}">
            <i class="{{#if fav}}icon-favorite{{else}}icon-not-favorite{{/if}}"></i>
          </a>
        {{/if}}
      </div>
    {{else}}
      <div class="source-viewer-header-component-project removed">{{removedMessage}}</div>
    {{/unless}}
  </div>

  {{#unless removed}}
    <a class="js-actions source-viewer-header-actions" title="{{t 'component_viewer.more_actions'}}">
      <i class="icon-list"></i>
    </a>

    <div class="source-viewer-header-measures">
      {{#if isUnitTest}}
        <div class="source-viewer-header-measures-scope">
          <div data-scope="tests" class="source-viewer-header-measures-expand js-header-tab-tests">
            <div class="source-viewer-header-measure">
              <span class="source-viewer-header-measure-value">{{measures.fTests}}</span>
              <span class="source-viewer-header-measure-label">{{t 'metric.tests.name'}}</span>
            </div>
          </div>
        </div>
      {{/if}}

      {{#unless isUnitTest}}
        <div class="source-viewer-header-measures-scope">
          <div data-scope="basic" class="source-viewer-header-measures-expand js-header-tab-basic">
            <div class="source-viewer-header-measure">
              <span class="source-viewer-header-measure-value">{{default measures.fNcloc '–'}}</span>
              <span class="source-viewer-header-measure-label">{{t 'metric.ncloc.name'}}</span>
            </div>
          </div>
        </div>
      {{/unless}}

      <div class="source-viewer-header-measures-scope">
        <div data-scope="issues" class="source-viewer-header-measures-expand js-header-tab-issues">
          {{#if measures.fSqaleRating}}
            <div class="source-viewer-header-measure">
              <span class="rating rating-{{measures.fSqaleRating}}"
                    {{#if measures.fSqaleDebtRatio}}title="{{t 'metric.sqale_debt_ratio.name'}}: {{measures.fSqaleDebtRatio}}"{{/if}}>
                {{measures.fSqaleRating}}
              </span>
            </div>
          {{/if}}
          <div class="source-viewer-header-measure">
            <span class="source-viewer-header-measure-value">{{default measures.fDebt '0'}}</span>
            <span class="source-viewer-header-measure-label">{{t 'component_viewer.header.debt'}}</span>
          </div>
          {{#if measures.fIssues}}
            <div class="source-viewer-header-measure">
              <span class="source-viewer-header-measure-value">{{measures.fIssues}}</span>
              <span class="source-viewer-header-measure-label">{{t 'metric.violations.name'}}</span>
            </div>
          {{/if}}
        </div>
      </div>

      {{#inArray tabs 'coverage'}}
        <div class="source-viewer-header-measures-scope">
          <div data-scope="coverage" class="source-viewer-header-measures-expand js-header-tab-coverage">
              <div class="source-viewer-header-measure">
                <span class="source-viewer-header-measure-value">{{default measures.fCoverage '–'}}</span>
                <span class="source-viewer-header-measure-label">{{t 'metric.coverage.name'}}</span>
              </div>
          </div>
        </div>
      {{/inArray}}

      {{#inArray tabs 'duplications'}}
        <div class="source-viewer-header-measures-scope">
          <div data-scope="duplications" class="source-viewer-header-measures-expand js-header-tab-duplications">
              <div class="source-viewer-header-measure">
                <span class="source-viewer-header-measure-value">{{default measures.fDuplicationDensity '–'}}</span>
                <span class="source-viewer-header-measure-label">{{t 'metric.duplicated_lines_density.name'}}</span>
              </div>
          </div>
        </div>
      {{/inArray}}
    </div>
  {{/unless}}
</div>

<div class="source-viewer-header-expanded-bar"></div>
